<!--
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.
   -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Keyboard Events Demo</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        max-width: 800px;
        margin: 2rem auto;
        padding: 0 1rem;
      }
      .event-box {
        border: 2px solid #ddd;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 8px;
        min-height: 100px;
        background: #f9f9f9;
      }
      .event-title {
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: #333;
      }
      .input-area {
        width: 100%;
        padding: 1rem;
        border: 2px solid #666;
        border-radius: 8px;
        margin: 1rem 0;
        font-size: 1rem;
      }
      .event-entry {
        margin: 0.25rem 0;
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <h1>Keyboard Events Demo</h1>
    <p>Press keys anywhere on this page!</p>

    <textarea class="input-area"></textarea>

    <div class="event-box">
      <div class="event-title">keydown events:</div>
      <div id="keydown-events"></div>
    </div>

    <div class="event-box">
      <div class="event-title">keypress events:</div>
      <div id="keypress-events"></div>
    </div>

    <div class="event-box">
      <div class="event-title">keyup events:</div>
      <div id="keyup-events"></div>
    </div>

    <script>
      const keydownEvents = document.getElementById("keydown-events");
      const keypressEvents = document.getElementById("keypress-events");
      const keyupEvents = document.getElementById("keyup-events");

      function addEvent(element, event) {
        const entry = document.createElement("div");
        entry.className = "event-entry";
        entry.textContent = `Key: ${event.key}, Code: ${event.code}, Time: ${new Date().toLocaleTimeString()}`;
        element.insertBefore(entry, element.firstChild);

        // Keep only the last 5 events
        while (element.children.length > 5) {
          element.removeChild(element.lastChild);
        }
      }

      document.addEventListener("keydown", event => {
        console.log("keydown", event);
        addEvent(keydownEvents, event);
      });

      document.addEventListener("keypress", event => {
        console.log("keypress", event);
        addEvent(keypressEvents, event);
      });

      document.addEventListener("keyup", event => {
        console.log("keyup", event);
        addEvent(keyupEvents, event);
      });
    </script>
  </body>
</html>
